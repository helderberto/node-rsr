{"version":3,"file":"rsr.js","sources":["../src/index.js"],"sourcesContent":["'use strict';\n\nconst ValidateRsr = require('./validate');\n\nclass Rsr {\n\n  static save(model, options) {\n    const { data, error, validate } = options;\n    const errorValidate = ValidateRsr.setAlert('save', validate);\n    const errorSave = ValidateRsr.setAlert('save', error);\n\n    ValidateRsr.isValid(data, errorValidate);\n\n    return model.create(data)\n      .then((response) => {\n        ValidateRsr.handleError(response, errorSave);\n        return response;\n      })\n      .catch((err) => {\n        console.error(err.message);\n        return err;\n      });\n  }\n\n  static delete(model, options) {\n    const { params, error, validate } = options;\n\n    ValidateRsr.isValid(params.id);\n\n    return model.destroy({\n      where: params\n    })\n      .then((response) => {\n        ValidateRsr.handleError(response, error);\n        return response;\n      })\n      .catch((err) => {\n        console.error(err.message);\n        return err;\n      });\n  }\n\n  static update(model, options) {\n    const { params, error, validate, data } = options;\n\n    ValidateRsr.isValid(options.params, validate);\n\n    return model.update(data, {\n      where: params\n    })\n      .then((response) => {\n        ValidateRsr.handleError(response, error);\n        return response;\n      })\n      .catch(err => {\n        console.error(err.message);\n        return err;\n      });\n  }\n\n  static findAll(model, options) {\n    const { error, params } = options;\n    const errorFind = ValidateRsr.setAlert('find', error);\n\n    return model.findAll(params)\n      .then((response) => {\n        ValidateRsr.handleError(response, errorFind);\n        return response;\n      })\n      .catch(err => {\n        console.error(err.message);\n        return err;\n      });\n  }\n\n  static findOne(model, options) {\n    const { error, params, validate } = options;\n    const errorValidate = ValidateRsr.setAlert('save', validate);\n    const errorFind = ValidateRsr.setAlert('find', error);\n\n    return model.findOne(params)\n      .then((response) => {\n        ValidateRsr.handleError(response, errorFind);\n        return response;\n      })\n      .catch(err => {\n        console.error(err.message);\n        return err;\n      });\n  }\n\n}\n\nmodule.exports = Rsr;\n"],"names":["const","ValidateRsr","require","Rsr","save","model","options","data","error","errorValidate","setAlert","errorSave","isValid","create","then","response","handleError","catch","err","message","delete","params","id","destroy","update","findAll","errorFind","findOne","module","exports"],"mappings":"AAEAA,IAAMC,EAAcC,QAAQ,cAEtBC,iBAEGC,cAAKC,EAAOC,OACTC,SAAMC,UACRC,EAAgBR,EAAYS,SAAS,mBACrCC,EAAYV,EAAYS,SAAS,OAAQF,YAEnCI,QAAQL,EAAME,GAEnBJ,EAAMQ,OAAON,GACjBO,cAAMC,YACOC,YAAYD,EAAUJ,GAC3BI,IAERE,eAAOC,kBACEV,MAAMU,EAAIC,SACXD,OAINE,gBAAOf,EAAOC,OACXe,WAAQb,mBAEJI,QAAQS,EAAOC,IAEpBjB,EAAMkB,eACJF,IAENP,cAAMC,YACOC,YAAYD,EAAUP,GAC3BO,IAERE,eAAOC,kBACEV,MAAMU,EAAIC,SACXD,OAINM,gBAAOnB,EAAOC,OACXe,WAAQb,UAAiBD,kBAErBK,QAAQN,EAAQe,mBAErBhB,EAAMmB,OAAOjB,SACXc,IAENP,cAAMC,YACOC,YAAYD,EAAUP,GAC3BO,IAERE,eAAMC,kBACGV,MAAMU,EAAIC,SACXD,OAINO,iBAAQpB,EAAOC,OACLe,WACTK,EAAYzB,EAAYS,SAAS,uBAEhCL,EAAMoB,QAAQJ,GAClBP,cAAMC,YACOC,YAAYD,EAAUW,GAC3BX,IAERE,eAAMC,kBACGV,MAAMU,EAAIC,SACXD,OAINS,iBAAQtB,EAAOC,OACZE,UAAOa,WAETK,GADgBzB,EAAYS,SAAS,mBACzBT,EAAYS,SAAS,OAAQF,WAExCH,EAAMsB,QAAQN,GAClBP,cAAMC,YACOC,YAAYD,EAAUW,GAC3BX,IAERE,eAAMC,kBACGV,MAAMU,EAAIC,SACXD,KAMfU,OAAOC,QAAU1B"}